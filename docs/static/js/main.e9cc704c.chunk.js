(this.webpackJsonpnotesapp=this.webpackJsonpnotesapp||[]).push([[0],{221:function(e,t,n){e.exports=n(327)},226:function(e,t,n){},227:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},228:function(e,t,n){},327:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(40),c=n.n(r),i=(n(226),n(63)),s=n.n(i),u=n(103),l=n(209),p=n(111),d=n(210),m=n(25),f=(n(227),n(228),n(184)),b=n(352),g=n(353),v=n(147),y=(n(229),n(354)),O=Object(y.a)();console.log(O);var h=function(){var e={notes:[],loading:!0,error:!1,form:{name:"",description:""}},t=Object(a.useReducer)((function(t,n){switch(n.type){case"SET_NOTES":return Object(m.a)(Object(m.a)({},t),{},{notes:n.notes,loading:!1});case"ERROR":return Object(m.a)(Object(m.a)({},t),{},{loading:!1,error:!0});case"ADD_NOTE":return Object(m.a)(Object(m.a)({},t),{},{notes:[].concat(Object(d.a)(t.notes),[n.note])});case"RESET_FORM":return Object(m.a)(Object(m.a)({},t),{},{form:e.form});case"SET_INPUT":return Object(m.a)(Object(m.a)({},t),{},{form:Object(m.a)(Object(m.a)({},t.form),{},Object(p.a)({},n.name,n.value))});default:return Object(m.a)({},t)}}),e),n=Object(l.a)(t,2),r=n[0],c=n[1],i=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.graphql({query:"\n  query ListNotes(\n    $filter: ModelNoteFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listNotes(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        clientId\n        name\n        description\n        completed\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"});case 3:t=e.sent,c({type:"SET_NOTES",notes:t.data.listNotes.items}),console.log(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),c({type:"ERROR"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=r.form).name&&t.description){e.next=3;break}return e.abrupt("return",alert("please enter a name and description"));case 3:return n=Object(m.a)(Object(m.a)({},t),{},{clientId:O,completed:!1,id:Object(y.a)()}),c({type:"ADD_NOTE",note:n}),c({type:"RESET_FORM"}),e.prev=6,e.next=9,f.a.graphql({query:"\n  mutation CreateNote(\n    $input: CreateNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    createNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",variables:{input:n}});case 9:console.log("successfully created note!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log("error: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),E=function(e){c({type:"SET_INPUT",name:e.target.name,value:e.target.value})},N=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),c({type:"SET_NOTES",notes:r.notes.filter((function(e){return e!==t}))}),e.prev=2,e.next=5,f.a.graphql({query:"\n  mutation DeleteNote(\n    $input: DeleteNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    deleteNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",variables:{input:{id:t.id}}});case 5:console.log("successfully deleted note!"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log({err:e.t0});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"SET_NOTES",notes:r.notes.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{completed:e==t?!e.completed:e.completed})}))}),e.prev=1,e.next=4,f.a.graphql({query:"\n  mutation UpdateNote(\n    $input: UpdateNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    updateNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",variables:{input:{id:t.id,completed:!t.completed}}});case 4:console.log("note successfully updated!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("error: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){i();var e=f.a.graphql({query:"\n  subscription OnCreateNote {\n    onCreateNote {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n"}).subscribe({next:function(e){console.log(e);var t=e.value.data.onCreateNote;O!==t.clientId&&c({type:"ADD_NOTE",note:t})}});return function(){return e.unsubscribe()}}),[]);var w={container:{padding:20},input:{marginBottom:10},item:{textAlign:"left"},p:{color:"#1890ff"}};return o.a.createElement("div",{style:w.container},o.a.createElement(g.a,{onChange:E,value:r.form.name,placeholder:"Note Name",name:"name",style:w.input}),o.a.createElement(g.a,{onChange:E,value:r.form.description,placeholder:"Note description",name:"description",style:w.input}),o.a.createElement(v.a,{onClick:h,type:"primary"},"Create New Note"),o.a.createElement(b.b,{loading:r.loading,dataSource:r.notes,renderItem:function(e){return o.a.createElement(b.b.Item,{style:w.item,actions:[o.a.createElement("p",{style:w.p,onClick:function(){return N(e)}},"Delete"),o.a.createElement("p",{style:w.p,onClick:function(){return j(e)}},e.completed?"Mark Incompleted":"Mark Completed")]},o.a.createElement(b.b.Item.Meta,{title:e.completed?e.name+" (complete)":e.name,description:e.description}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E={aws_project_region:"us-east-2",aws_appsync_graphqlEndpoint:"https://7yuxm2lc2neu3brsyftv7guiy4.appsync-api.us-east-2.amazonaws.com/graphql",aws_appsync_region:"us-east-2",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-i22bkdxf5rd6fdd7ohjg3sgvje"};n(141).default.configure(E),c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[221,1,2]]]);
//# sourceMappingURL=main.e9cc704c.chunk.js.map